<!DOCTYPE html>
<html>
  <head>
    
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="shortcut icon" href="/static/img/favicon.ico" />
        <title>Functional Refactoring for a Repository Pattern - Chumley Consulting Services</title>
        <meta name="author" content="Robert Chumley" />
        <meta name="description" content="Functional Refactoring for a Repository Pattern" />
        <meta name="keywords" content="Functional Refactoring for a Repository Pattern, Chumley Consulting Services, refactoring" />

        <meta content="0" property="fb:app_id">
        <meta content="Chumley Consulting Services" property="og:site_name">
        
          <meta content="Functional Refactoring for a Repository Pattern" property="og:title">
        
        
          <meta content="article" property="og:type">
        
        
          <meta content="Software Development Blog" property="og:description">
        
        
          <meta content="http://github.com/RobertChumley/refactoring/2016/10/25/functional-refactoring-for-a-repository-pattern.html" property="og:url">
        
        
          <meta content="2016-10-25T10:48:57-07:00" property="article:published_time">
          <meta content="http://github.com/RobertChumley/about/" property="article:author">
        
        
          <meta content="http://github.com/RobertChumley/static/img/logo-high-resolution.png" property="og:image">
        
        
          
          <meta content="refactoring" property="article:section">
          
        
        
          
        
        <meta name="twitter:card" content="summary">
        <meta name="twitter:site" content="@\RobertChumley\#">
        <meta name="twitter:creator" content="@\RobertChumley\#">
        
          <meta name="twitter:title" content="Functional Refactoring for a Repository Pattern">
        
        
          <meta name="twitter:url" content="http://github.com/RobertChumley/refactoring/2016/10/25/functional-refactoring-for-a-repository-pattern.html">
        
        
          <meta name="twitter:description" content="Software Development Blog">
        
        

      <link rel="alternate" type="application/rss+xml" title="RSS" href="/feed.xml">
      
        <!-- Custom Fonts -->
        <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">

        <!-- FontAwesome icons -->
        <link rel="stylesheet" href="https://use.fontawesome.com/74dfc6cf47.css">

        <!-- Core BootStrap CSS -->
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
        <!-- Material Design CSS -->
        <link rel="stylesheet" href="http://robertchumley.github.io/static/css/bootstrap-material-design.min.css">

        <!-- syntax highlighting CSS -->
        <link rel="stylesheet" href="http://robertchumley.github.io/static/css/syntax.css">

        <!-- Custom CSS -->        
        <link rel="stylesheet" href="http://robertchumley.github.io/static/css/thickbox.css">
        <link rel="stylesheet" href="http://robertchumley.github.io/static/css/main.css">
        <link rel="stylesheet" href="http://robertchumley.github.io/static/css/projects.css">

        <script type="text/javascript">
          //loadingImage is relative to project dir
          var tb_pathToImage = "http://robertchumley.github.io/static/img/loadingAnimation.gif";
        </script>

  </head>

  <body class="home overflow-hidden">
    <div class="header-panel shadow-z-2">
      <div class="container">
        <div class="row">
          <div class="col-md-3 col-sm-4 col-xs-12">
            <div class="row-picture">
              <img id="about" class="logo-img" src="/static/img/avatar.png" height="75px" width="75px">
            </div>
            <div class="row-details">
              <h4 class="list-group-item-heading">Robert Chumley</h4>
              <p class="list-group-item-text">Software Contractor</p>
              <div class="social-icons">
	
        <a class="icon" target="_blank" href=""><i class="fa fa-facebook"></i></a>
    
        <a class="icon" target="_blank" href=""><i class="fa fa-twitter"></i></a>
    
        <a class="icon" target="_blank" href=""><i class="fa fa-linkedin"></i></a>
    
        <a class="icon" target="_blank" href=""><i class="fa fa-stack-exchange"></i></a>
    
</div>

            </div>
            <div class="navbar-header pull-right">
              <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
                <span class="sr-only">Toggle navigation</span>
                <i class="fa fa-2x fa-bars"></i>
              </button>
            </div>
          </div>
          <div class="col-md-9 col-sm-8 col-xs-12">
            <h2 class="blog-title-pro">Functional Refactoring for a Repository Pattern</h2>
            <p class="info">
              
                <span class="time">25 Oct 2016</span>
              
              
                <span class="categories">
                  &raquo; 
                  
                    <a href="category/refactoring">refactoring</a>
                    
                  
                </span>
              
            </p>
          </div>
        </div>
      </div>
    </div>

    <div class="container main outer">
      <div class="row">
        <div class="col-md-3 col-xs-12">
              <nav class="menu">
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
    <ul class="list-separator nav navbar-nav well well-primary post">

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12 current-menu-item functional-refactoring-for-a-repository-pattern.html"><a href="http://robertchumley.github.io/" target="_self"><i class="fa fa-home"></i> Home</a></li>

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12  functional-refactoring-for-a-repository-pattern.html"><a href="http://robertchumley.github.io/about/" target="_self"><i class="fa fa-comments"></i> About</a></li>

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12  functional-refactoring-for-a-repository-pattern.html"><a href="http://robertchumley.github.io/projects" target="_self"><i class="fa fa-desktop"></i> Projects</a></li>

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12 current-menu-item functional-refactoring-for-a-repository-pattern.html"><a href="http://robertchumley.github.io#" target="_self"><i class="fa fa-graduation-cap"></i> Resume</a></li>

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12  functional-refactoring-for-a-repository-pattern.html"><a href="https://github.com/RobertChumley" target="_self"><i class="fa fa-github"></i> Github</a></li>

	
	
	
	
	
	
    
	
	<li class="col-lg-12 col-md-12 col-sm-4 col-xs-12  functional-refactoring-for-a-repository-pattern.html"><a href="http://robertchumley.github.io/feed.xml" target="_blank"><i class="fa fa-feed"></i> XML Feed</a></li>

</ul>

    </div>
    </nav>

        </div>
        <div class="col-md-9 col-xs-12 full">
          <div class="post-content well">
<article class="content">
    <div class="post"><p>Refactoring to functional programming in C# by examples: (of what worked for me at least)</p>

<p>Consider the initial code block.  This code uses a repository and specifications to build the underlying data.
The initial code solves the problem by using the repository, adding some data, then saving the information to the database.</p>

<div class="language-cs highlighter-rouge"><pre class="highlight"><code><span class="k">public</span> <span class="n">IWebApiStatusInfo</span> <span class="nf">updateAsset</span><span class="p">(</span><span class="n">vmAsset</span> <span class="n">asset</span><span class="p">)</span>
<span class="p">{</span>
    <span class="n">var</span> <span class="n">result</span> <span class="p">=</span> <span class="k">new</span> <span class="nf">WebApiStatusInfo</span><span class="p">();</span>

    <span class="n">var</span> <span class="n">repoAsset</span> <span class="p">=</span> <span class="n">uow</span><span class="p">.</span><span class="n">Repo</span><span class="p">&lt;</span><span class="n">Asset</span><span class="p">&gt;();</span>

    <span class="n">var</span> <span class="n">dbasset</span> <span class="p">=</span> <span class="n">repoAsset</span><span class="p">.</span><span class="nf">GetById</span><span class="p">(</span><span class="n">asset</span><span class="p">.</span><span class="n">assetID</span><span class="p">);</span>

    <span class="n">dbasset</span><span class="p">.</span><span class="n">AssetPartNum</span> <span class="p">=</span> <span class="n">asset</span><span class="p">.</span><span class="n">barcode</span><span class="p">;</span>
    
    <span class="n">repoAsset</span><span class="p">.</span><span class="nf">Update</span><span class="p">(</span><span class="n">dbasset</span><span class="p">);</span>
    <span class="k">try</span>
    <span class="p">{</span>
        <span class="n">uow</span><span class="p">.</span><span class="nf">Commit</span><span class="p">();</span>
    <span class="p">}</span>
    <span class="k">catch</span> <span class="p">(</span><span class="n">SqlException</span> <span class="n">e</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">result</span><span class="p">.</span><span class="nf">addError</span><span class="p">(</span><span class="s">"DBUpdate"</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">catch</span> <span class="p">(</span><span class="n">InvalidOperationException</span> <span class="n">e</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">result</span><span class="p">.</span><span class="nf">addError</span><span class="p">(</span><span class="s">"DBUpdate"</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
    <span class="p">{</span>
        <span class="n">result</span><span class="p">.</span><span class="nf">addError</span><span class="p">(</span><span class="s">"DBUpdate"</span><span class="p">,</span> <span class="s">"Update Person Failed, please check the data entered."</span><span class="p">);</span>
        <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">result</span><span class="p">.</span><span class="n">payload</span> <span class="p">=</span> <span class="k">true</span><span class="p">;</span>

    <span class="k">return</span> <span class="n">result</span><span class="p">;</span>
<span class="p">}</span>
</code></pre>
</div>

<p>This code is strait forward.  The WebAPiStaatusInfo return object is passed back to the Web API Controller.  The first part creates a Repo based on our type of “Asset” widget.
The second part of the code performs a try/catch statement to commit the changes to the database.  There is a specific type naming called “DBUpdate” which is a magic string that gets passed back to the
calling system to know where an exception occured. The payload is then set to the boolean value of true / false and the result reutrned.</p>

<p>In C# functional refactoring we must first consider all statements as candidates for replacement.  Consider the following refactoring:</p>

<p>First lets create a static class as an extension onto the Repo:</p>

<div class="language-cs highlighter-rouge"><pre class="highlight"><code>
<span class="k">public</span> <span class="k">static</span> <span class="k">class</span> <span class="nc">SRepoExtensions</span>
<span class="p">{</span>
 <span class="k">public</span> <span class="k">static</span> <span class="n">Asset</span> <span class="nf">ToNewDBAsset</span><span class="p">(</span><span class="k">this</span> <span class="n">vmAsset</span> <span class="n">asset</span><span class="p">,</span> <span class="n">List</span><span class="p">&lt;</span><span class="n">AssetPropType</span><span class="p">&gt;</span> <span class="n">propTypes</span><span class="p">)</span>
 <span class="p">{</span>
     <span class="c1">//Asset initialization logic removed for brevity
</span>     <span class="k">return</span> <span class="k">new</span> <span class="nf">Asset</span><span class="p">();</span>
 <span class="p">}</span>
 <span class="k">public</span> <span class="k">static</span> <span class="n">IRepository</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">Build</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="k">this</span> <span class="n">IUow</span> <span class="n">uow</span><span class="p">,</span> <span class="n">Func</span><span class="p">&lt;</span><span class="n">IRepository</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;,</span> <span class="n">IRepository</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;&gt;</span> <span class="n">act</span><span class="p">)</span> <span class="n">where</span> <span class="n">T</span> <span class="p">:</span> <span class="k">class</span>
 <span class="err">{</span>
     <span class="nc">return</span> <span class="nf">act</span><span class="p">(</span><span class="n">uow</span><span class="p">.</span><span class="n">Repo</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;());</span>
 <span class="p">}</span>
 <span class="k">public</span> <span class="k">static</span> <span class="n">IRepository</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">SafelyExecute</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;(</span><span class="k">this</span> <span class="n">IRepository</span><span class="p">&lt;</span><span class="n">T</span><span class="p">&gt;</span> <span class="n">repo</span><span class="p">,</span> <span class="n">Action</span> <span class="n">act</span><span class="p">,</span> <span class="n">Action</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">writeTo</span><span class="p">,</span> <span class="kt">string</span> <span class="n">operation</span><span class="p">)</span> <span class="n">where</span> <span class="n">T</span> <span class="p">:</span> <span class="k">class</span>
 <span class="err">{</span>
     <span class="nc">try</span>
     <span class="p">{</span>
         <span class="nf">act</span><span class="p">();</span>
     <span class="p">}</span>
     <span class="k">catch</span> <span class="p">(</span><span class="n">SqlException</span> <span class="n">e</span><span class="p">)</span>
     <span class="p">{</span>
         <span class="nf">writeTo</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
     <span class="p">}</span>
     <span class="k">catch</span> <span class="p">(</span><span class="n">InvalidOperationException</span> <span class="n">e</span><span class="p">)</span>
     <span class="p">{</span>
         <span class="nf">writeTo</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>

     <span class="p">}</span>
     <span class="k">catch</span> <span class="p">(</span><span class="n">Exception</span> <span class="n">e</span><span class="p">)</span>
     <span class="p">{</span>
         <span class="nf">writeTo</span><span class="p">(</span><span class="n">operation</span><span class="p">,</span> <span class="s">"Uncaught Exception: "</span> <span class="p">+</span> <span class="n">e</span><span class="p">.</span><span class="n">Message</span><span class="p">);</span>
     <span class="p">}</span>
     <span class="k">return</span> <span class="n">repo</span><span class="p">;</span>
 <span class="p">}</span>
 <span class="k">public</span> <span class="k">static</span> <span class="n">WebApiStatusInfo</span> <span class="nf">Set</span><span class="p">(</span><span class="k">this</span> <span class="n">WebApiStatusInfo</span> <span class="n">webApiStatusInfo</span><span class="p">,</span> <span class="n">Func</span><span class="p">&lt;</span><span class="n">WebApiStatusInfo</span><span class="p">,</span> <span class="kt">object</span><span class="p">&gt;</span> <span class="n">payload</span><span class="p">)</span>
 <span class="p">{</span>
     <span class="n">webApiStatusInfo</span><span class="p">.</span><span class="n">payload</span> <span class="p">=</span> <span class="nf">payload</span><span class="p">(</span><span class="n">webApiStatusInfo</span><span class="p">);</span>
     <span class="k">return</span> <span class="n">webApiStatusInfo</span><span class="p">;</span>
 <span class="p">}</span>
<span class="p">}</span>
 
</code></pre>
</div>

<p>This class clearly removes the try / catch block and places it into a static method enabling it to be resused by anything that needs this sort of logic to catch the specific types of exceptions.</p>

<p>The Build method is key for creating a factory which will instantiate the IRepository from the unit of work using the uow.Repo<T>() method call.</T></p>

<p>Next, we use the static methods to refactor the original code to be more functional in nature.</p>

<p>DTO Base gives us the uow as a factory for the repository. For more information on unit of work for the Entity Framework, see…</p>

<p><a href="https://www.asp.net/mvc/overview/older-versions/getting-started-with-ef-5-using-mvc-4/implementing-the-repository-and-unit-of-work-patterns-in-an-asp-net-mvc-application">implementing the repository and unit  of work patterns in an asp net mvc application</a></p>

<div class="language-cs highlighter-rouge"><pre class="highlight"><code><span class="k">public</span> <span class="k">class</span> <span class="nc">dtoTest</span> <span class="p">:</span> <span class="n">DTOBase</span>
<span class="p">{</span>   <span class="k">private</span> <span class="k">readonly</span> <span class="n">Func</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">AssetPropType</span><span class="p">&gt;&gt;</span> <span class="n">_assetPropTypes</span><span class="p">;</span>
  <span class="k">public</span> <span class="nf">dtoTest</span><span class="p">(</span><span class="n">Func</span><span class="p">&lt;</span><span class="n">List</span><span class="p">&lt;</span><span class="n">AssetPropType</span><span class="p">&gt;&gt;</span> <span class="n">assetPropTypesFunc</span><span class="p">){</span>
    <span class="n">_assetPropTypes</span> <span class="p">=</span> <span class="n">assetPropTypesFunc</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">public</span> <span class="n">IWebApiStatusInfo</span> <span class="nf">WebAddRequest</span><span class="p">(</span><span class="n">vmAsset</span> <span class="n">asset</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="k">return</span> <span class="k">new</span> <span class="nf">WebApiStatusInfo</span><span class="p">().</span><span class="nf">Set</span><span class="p">((</span><span class="n">result</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="nf">AssetMutate</span><span class="p">(</span><span class="s">"DBAdd"</span><span class="p">,</span> <span class="n">result</span><span class="p">.</span><span class="n">addError</span><span class="p">,</span> 
          <span class="p">(</span><span class="n">repo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="p">{</span>
              <span class="n">repo</span><span class="p">.</span><span class="nf">Add</span><span class="p">(</span><span class="n">asset</span><span class="p">.</span><span class="nf">ToNewDBAsset</span><span class="p">(</span><span class="nf">_assetPropTypes</span><span class="p">()));</span>
              <span class="n">uow</span><span class="p">.</span><span class="nf">Commit</span><span class="p">();</span>
          <span class="p">}));</span>

  <span class="p">}</span>
  <span class="k">public</span> <span class="kt">bool</span> <span class="nf">AssetMutate</span><span class="p">(</span><span class="kt">string</span> <span class="n">def</span><span class="p">,</span> <span class="n">Action</span><span class="p">&lt;</span><span class="kt">string</span><span class="p">,</span> <span class="kt">string</span><span class="p">&gt;</span> <span class="n">action</span><span class="p">,</span> <span class="n">Action</span><span class="p">&lt;</span><span class="n">IRepository</span><span class="p">&lt;</span><span class="n">Asset</span><span class="p">&gt;&gt;</span> <span class="n">repoFunc</span><span class="p">)</span>
  <span class="p">{</span>
      <span class="n">uow</span><span class="p">.</span><span class="n">Build</span><span class="p">&lt;</span><span class="n">Asset</span><span class="p">&gt;((</span><span class="n">repo</span><span class="p">)</span> <span class="p">=&gt;</span> <span class="n">repo</span><span class="p">.</span><span class="nf">SafelyExecute</span><span class="p">(()</span> <span class="p">=&gt;</span> <span class="p">{</span>
          <span class="nf">repoFunc</span><span class="p">(</span><span class="n">repo</span><span class="p">);</span>
      <span class="p">},</span> <span class="n">action</span><span class="p">,</span> <span class="n">def</span><span class="p">));</span>
      <span class="k">return</span> <span class="k">true</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre>
</div>

<p>The refactored code now is more functional in nature by removing the statements in favor for expressions.  The AssetMutate method is specifically defined to use the try catch static statement and execute the “repoFunc”.</p>

<p>Also, teh WebApiStatusInfo.Set(func) method is designed to assist with the return value without specifically setting the WebApiStatusInfo object to a variable before calling the necessary expressions which will build the response.</p>

<p>This should be clear to see that the logical flow of the code is that the intent to WebAddRequest is to create a WebApiStatusInfo response, then apply the necessary operations on the asset parameter and return the</p>

<p>Also, the new values required for the _assetPropTypesFunc are passed in with a lambda expression to ensure the dtoTest is immutable.</p>

<p>The outcome is that the code is much more readable and the logic contained in the static extensions are reusable and modular in nature.</p>
</div>
    <hr />
    <div class="share-page">
    Share this on &rarr;
 <a href="https://twitter.com/share" class="twitter-share-button" data-via="\RobertChumley\#">Tweet</a>
<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>

<!-- Google + -->
<div class="g-plus" data-action="share" data-annotation="bubble"></div>
<script src="https://apis.google.com/js/platform.js" async defer></script>

<!-- Facebook -->
<div class="fb-share-button" data-href="http://github.com/RobertChumley/refactoring/2016/10/25/functional-refactoring-for-a-repository-pattern.html" data-layout="button_count" style="position: relative; top: -8px; left: 3px;"></div>
</div>
<div id="fb-root"></div>
<script>(function(d, s, id) {
  var js, fjs = d.getElementsByTagName(s)[0];
  if (d.getElementById(id)) return;
  js = d.createElement(s); js.id = id;
  js.src = "//connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.6&appId=0";
  fjs.parentNode.insertBefore(js, fjs);
}(document, 'script', 'facebook-jssdk'));</script>
</article>
<hr />


    
    
        
            
        
    

    
    
        
            
        
    



<div class="PageNavigation">
  
    <a class="prev pull-left" href="/cloud/2016/10/21/installing-kafka-in-openshift.html">&laquo; Installing Kafka in OpenShift</a>
  
  
</div>


<div class="disqus-comments">
    <div id="disqus_thread"></div>
    <script>

        /**
         *  RECOMMENDED CONFIGURATION VARIABLES: EDIT AND UNCOMMENT THE SECTION BELOW TO INSERT DYNAMIC VALUES FROM YOUR PLATFORM OR CMS.
         *  LEARN WHY DEFINING THESE VARIABLES IS IMPORTANT: https://disqus.com/admin/universalcode/#configuration-variables*/
        /*
         var disqus_config = function () {
         this.page.url = PAGE_URL;  // Replace PAGE_URL with your page's canonical URL variable
         this.page.identifier = PAGE_IDENTIFIER; // Replace PAGE_IDENTIFIER with your page's unique identifier variable
         };
         */
        (function() { // DON'T EDIT BELOW THIS LINE
            var d = document, s = d.createElement('script');
            s.src = '//robertchumley.disqus.com/embed.js';
            s.setAttribute('data-timestamp', +new Date());
            (d.head || d.body).appendChild(s);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
</div>
          <div class="row">
            <div class="col-md-12 col-xs-12 footer">
              <footer>
  © 2016 Your Name <a href="#">Privacy link</a> - Powered by Jekyll.
</footer>
<div align="center">
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  <ins class="adsbygoogle"
    style="display:block"
    data-ad-client="ca-pub-0000000000000000"
    data-ad-slot="0000000000"
    data-ad-format="auto"></ins>
  <script>(adsbygoogle = window.adsbygoogle || []).push({});</script>
  <script id="dsq-count-scr" src="//robertchumley.disqus.com/count.js" async></script>
</div>

            </div>
          </div>
        </div> <!-- end /.col-md-9 -->
      </div> <!-- end /.row -->
    </div>

    
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>
<script src="https://code.jquery.com/jquery-migrate-1.2.1.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
<script src="http://robertchumley.github.io/static/js/thickbox-compressed.js"></script>
<script src="http://robertchumley.github.io/static/js/material.min.js"></script>
<script src="http://robertchumley.github.io/static/js/main.js"></script>
<script src="http://robertchumley.github.io/static/js/projects.js"></script>

    <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-72862926-1', 'auto');
  ga('send', 'pageview');

</script>
  </body>
</html>
