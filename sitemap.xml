<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Chumley Consulting Services</title>
    <description>Software Development Blog</description>
    <link>http://github.com/RobertChumleyhttp://robertchumley.github.io/</link>
    <atom:link href="http://github.com/RobertChumleyhttp://robertchumley.github.io/sitemap.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Tue, 25 Oct 2016 10:36:06 -0700</pubDate>
    <lastBuildDate>Tue, 25 Oct 2016 10:36:06 -0700</lastBuildDate>
    <generator>Jekyll v3.3.0</generator>
    
      <item>
        <title>Installing Kafka in OpenShift</title>
        <description>&lt;p&gt;Docker and OpenShift 3+ work in different security contexts.  This means that many images written specifically for docker will not work in OpenShift.
Specifically, the Kafka framwork written by wurstmeister (wurstmeister/kafka-docker), spotify and flozano all have the same problem.&lt;br /&gt;
Since these modules were built to run as root they would not allow for connecting to the UNIX sockets.  This error will come up.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;cannot open an http server: socket.error reported errno.eacces (13)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;The solution was the build the docker modules for Kafka and Zookeeper from scratch.  Using this set of instructions:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/jim-minter/kafkanetes&quot;&gt;https://github.com/jim-minter/kafkanetes&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This allows creating containers in Open Shift with the necessary permissions.&lt;/p&gt;

&lt;p&gt;We also needed to change the name of the container from the silly kafkanetes name to just&lt;/p&gt;
&lt;figure class=&quot;code-highlight-figure&quot;&gt;&lt;div class=&quot;code-highlight&quot;&gt;&lt;pre class=&quot;code-highlight-pre&quot;&gt;&lt;div data-line=&quot;1&quot; class=&quot;code-highlight-row numbered&quot;&gt;&lt;div class=&quot;code-highlight-line&quot;&gt;kafka&lt;/div&gt;&lt;/div&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/figure&gt;

&lt;p&gt;This was easily found in the kafkanetes-deploy-kafka-1.yaml file.&lt;/p&gt;

&lt;p&gt;The volume mount definition in the kafkanetes was well defined, but carefully consider where the data is going.  It is recommended to create the Volume name ahead of time 
then use the template to modify the name of the Volume mount.  This will allow complete control over the location of the volume. Both the kafka and kubernetes definitions will need to be modified.&lt;/p&gt;

&lt;p&gt;The next phase will be installing a kafka cluser and allowing for scaling the cluster through zookeeper.  Also, zookeeper can be used with other services to form a network of services.&lt;/p&gt;
</description>
        <pubDate>Fri, 21 Oct 2016 06:47:47 -0700</pubDate>
        <link>http://github.com/RobertChumleyhttp://robertchumley.github.io/cloud/2016/10/21/installing-kafka-in-openshift.html</link>
        <guid isPermaLink="true">http://github.com/RobertChumleyhttp://robertchumley.github.io/cloud/2016/10/21/installing-kafka-in-openshift.html</guid>
        
        
        <category>cloud</category>
        
      </item>
    
  </channel>
</rss>
